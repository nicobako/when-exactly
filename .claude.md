# When Exactly - Project Context

## Overview
When Exactly is an expressive datetime library for Python that provides intuitive APIs for working with dates, times, and intervals.

## Project Structure

```
when-exactly/
├── src/when_exactly/
│   ├── __init__.py          # Main package exports
│   ├── api.py               # User-facing API (Day, Days, Month, etc.)
│   ├── core/                # Core abstractions
│   │   ├── moment.py        # Point in time
│   │   ├── interval.py      # Time interval
│   │   ├── collection.py    # Collection of moments/intervals
│   │   └── delta.py         # Time delta
│   └── custom/              # Custom implementations
│       ├── custom_interval.py
│       └── custom_collection.py
├── tests/                   # Test suite (pytest)
└── docs/                    # MkDocs documentation
```

## Key Conventions

### Python Version
- Requires Python 3.13+

### Code Style
- Follow PEP 8
- Use type hints where appropriate
- Keep functions focused and readable

### Testing
- Use pytest for all tests
- Run tests with: `pytest .`
- Tests mirror the source structure
- Aim for comprehensive coverage

### Development Workflow
1. Set up environment: `python3.13 -m venv .venv && source .venv/bin/activate`
2. Install dependencies: `pip install -r requirements.txt && pip install -e .`
3. Install pre-commit hooks: `pre-commit install`
4. Run tests before committing: `pytest .`

### Documentation
- Documentation lives in `docs/` directory
- Built with MkDocs
- Live preview: `mkdocs serve`
- Deploy: `mkdocs gh-deploy`
- Documentation site: https://when-exactly.nicobako.me

### Building and Publishing
- Build: `python -m build`
- Upload: `python -m twine upload dist/*`

## API Design Philosophy
The library aims for expressiveness and intuition:
- `Day(2024, 1, 15)` - Create specific moments
- `Days(5)` - Create durations
- `Month`, `Months`, `Year`, `Years`, etc. - Consistent naming patterns
- Fluent interfaces where appropriate

## Important Notes
- Missing `__init__.py` in `src/when_exactly/custom/` directory (may need to be added for proper package discovery)
- The package uses a src layout (recommended modern Python practice)
- Built with hatchling as the build backend

## Current Status
- Version: 0.0.5
- Status: Work in progress
- Repository: https://github.com/nicobako/when-exactly
